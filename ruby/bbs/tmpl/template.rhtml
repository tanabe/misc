<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="content-language" content="ja">

    <title>rubybbs</title>

    <meta http-equiv="content-script-type" content="text/javascript">
    <meta http-equiv="content-style-type" content="text/css">

    <style type="text/css">
      div.post {
        border-bottom: 1px solid #000;
      }
    </style>

  </head>
  <body>
    <h1>rubybbs</h1>
    <div>
      <form action="bbs.rb" method="post">
        <p>name:<input type="text" name="name"></p>
        <p>content:<textarea name="content"></textarea></p>
        <p><input type="submit" value="submit"></p>
      </form>
    </div>
    <% @posts.each do |post| %>
      <div class="post">
        <p><%= ERB::Util.html_escape(post[:name]) %></p>
        <p><%= ERB::Util.html_escape(post[:date]) %></p>
        <p><%= ERB::Util.html_escape(post[:content])).gsub(/\r\n|\r|\n/, "<br>" %></p>
      </div>
    <% end %>
  </body>
</html>
